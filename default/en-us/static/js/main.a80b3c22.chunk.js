(this["webpackJsonpthanksgiving-sale"]=this["webpackJsonpthanksgiving-sale"]||[]).push([[0],{27:function(e,t,a){e.exports=a(65)},35:function(e,t,a){},36:function(e,t,a){},53:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(22),s=a.n(i),o=(a(32),a(33),a(35),a(3)),r=a(4),l=a(6),u=a(5),d=a(2),m=a(7),p=(a(36),a(23)),h=a(24),g=a.n(h),f=(a(53),a(25)),v=a.n(f),w=a(26),y=a.n(w)()()(v.a);Object(p.polyfill)();var b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={games:[]},a.addDefaultSrc=a.addDefaultSrc.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"getGames",value:function(){var e=this,t=[{oid:"oidlazy005535thefarkingdomsh",cost:3,variant:"buy",fullWcPrice:40},{oid:"aliciaquatermainsotltse",cost:5,variant:"buy",fullWcPrice:20},{oid:"farmscapes",cost:2,variant:"buy",fullWcPrice:20},{oid:"seasonmatch3hd",cost:4,variant:"buy",fullWcPrice:40},{oid:"Vikingsaga",cost:1,variant:"buy",fullWcPrice:6}].map((function(e,t){return g.a.get("https://products.wildtangent.com/products/v1.0/wildgames/us/en-us/".concat(e.oid,"?output=json&scope=all")).then((function(a){var n=a.data.results[0],c=function(e){for(var t=e.tags.length,a=0;a<t;a++)if("Genre"===e.tags[a].tagtype)return e.tags[a].displayname;return null}(n),i=new Date(1*n.releasedate.value.match(/\d+/)[0]);return{oid:e.oid,variant:e.variant,productkey:n.productkey,title:n.title,i:t,friendlyproductkey:n.friendlyproductkey,fullWcPrice:e.fullWcPrice,wildcoinspurchasecost:n.wildcoinspurchasecost,genre:c,bigIcon:"https://optimizedimages.wildtangent.com/".concat(n.productkey,"/big_icon.png?h=160&w=160&auto=compress&cs=tinysrgb"),featuredTile:"https://optimizedimages.wildtangent.com/".concat(n.productkey,"/featured_tile.jpg?auto=compress&cs=tinysrgb"),purchasecost:n.purchasecost.value.toFixed(2),fullPrice:e.fullPrice,releasedate:i,wcPrice:n.wildcoinspurchasecost.value,ranking:n.ranking.mostpopularrating.rank,sessioncost:n.sessioncost}})).catch((function(e){console.error("An error occured ".concat(e))}))}));return Promise.all(t).then((function(t){e.setState({games:t})}))}},{key:"componentDidMount",value:function(){this.getGames()}},{key:"addDefaultSrc",value:function(e){var t=e.target;t.src="https://optimizedimages.wildtangent.com/".concat(t.dataset.oid,"/big_icon.png?auto=format&dpr=1&cs=tinysrgb&fill=blur&crop=false&fit=fillmax&w=350&h=143&ixlib=react-7.2.0"),t.classList.remove("featuredTile"),t.classList.add("bigIcon")}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,this.state.games.length>0&&!0===this.props.showGames?this.state.games.map((function(t){return c.a.createElement("div",{onClick:function(){return e.props.tileClick(t)},className:"wrapperElement col-xs-6 col-sm-6 col-md-5ths col-lg-5ths col-xl-5ths active","data-event-action":"Game-Offer Tile","data-event-category":"Landing Page","data-event-label":t.productkey,key:t.i,"data-orderitemid":t.productkey},c.a.createElement("div",{className:"innerWrapper"},c.a.createElement("div",{className:"bigIconDiv"},c.a.createElement("img",{src:t.bigIcon,className:"bigIcon",alt:t.title,onError:e.addDefaultSrc,"data-oid":t.productkey})),c.a.createElement(y,{style:{whiteSpace:"pre-wrap"},text:t.title,maxLine:"2",ellipsis:"...",trimRight:"true",basedOn:"words",className:"gameTitle",component:"p"}),c.a.createElement("p",{className:"bottom-text"},c.a.createElement("span",{className:"genre"},t.genre," "),c.a.createElement("span",{className:"gamePrice wildcoins"},c.a.createElement("span",{className:"strikeThrough"},t.fullWcPrice),c.a.createElement("span",{className:"sale-and-discount"},c.a.createElement("span",{className:"percent-off"},Math.abs(100*(t.wildcoinspurchasecost.value/t.fullWcPrice-1)).toFixed(),"% off"),c.a.createElement("span",{className:"wildcoinPrice price"},t.wildcoinspurchasecost.value))))))})):"")}}]),t}(n.Component),k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={games:[],showGames:!1,showToggle:!1},e.tileClick=e.tileClick.bind(Object(d.a)(e)),e.changepricesDisplay=e.changepricesDisplay.bind(Object(d.a)(e)),e.updatePricesShown=e.updatePricesShown.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(r.a)(t,[{key:"tileClick",value:function(e){window.location="/games/".concat(e.friendlyproductkey)}},{key:"changepricesDisplay",value:function(e){var t=e.target.dataset.price;this.setState({showPricesIn:t})}},{key:"updatePricesShown",value:function(){var e=0;document.getElementsByClassName("wildcoins-menu").length>0&&(e=parseInt(document.getElementsByClassName("wildcoins-menu")[0].children[0].textContent)),e>=10?this.setState({showGames:!0,showPricesIn:"wildcoins",showToggle:!0}):this.setState({showGames:!0})}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){window.addEventListener("load",this.updatePricesShown)}},{key:"render",value:function(){return c.a.createElement("div",{id:"app"},c.a.createElement("div",{className:"container main-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 page-title"})),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("div",{className:"row game-tiles"},c.a.createElement(b,{tileClick:this.tileClick,activeGame:this.state.activeGameSection,showPricesIn:this.state.showPricesIn,showGames:this.state.showGames})))),c.a.createElement("div",{className:"scrollSpacer"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.a80b3c22.chunk.js.map